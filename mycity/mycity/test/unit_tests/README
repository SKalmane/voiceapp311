Unit tests for intent and utility functions